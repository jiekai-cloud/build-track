# ç”Ÿæ´»å“è³ªå ±åƒ¹ç³»çµ± - éœ€æ±‚åˆ†æå ±å‘Š ğŸ“Š

æ ¹æ“šæ‚¨æä¾›çš„å¯¦éš›å ±åƒ¹å–® PDFï¼ˆ23é ï¼‰ï¼Œæˆ‘å·²å®Œæˆè©³ç´°åˆ†æã€‚

---

## ğŸ“‹ ä¸€ã€å ±åƒ¹å–®çµæ§‹åˆ†æ

### 1.1 å ±åƒ¹å–®é é¦–è³‡è¨Šï¼ˆHeaderï¼‰

```
å°ç£ç”Ÿæ´»å“è³ªç™¼å±•è‚¡ä»½æœ‰é™å…¬å¸
å°åŒ—å¸‚å£«æ—å€ä¸­å±±åŒ—è·¯äº”æ®µ500è™Ÿ7æ¨“
æ–°åŒ—å¸‚ä¸­å’Œå€æ™¯å¹³è·¯71ä¹‹7è™Ÿ2æ¨“æœ¬è™Ÿ
TELï¼š02-2242-1955
FAXï¼š02-2242-1905
```

**æ¬„ä½è¨­è¨ˆï¼š**
```typescript
interface QuotationHeader {
  // å…¬å¸è³‡è¨Šï¼ˆå›ºå®šï¼‰
  companyName: string;
  address1: string;
  address2: string;
  tel: string;
  fax: string;
  
  // å®¢æˆ¶è³‡è¨Š
  to: string;              // æ”¶ä»¶äºº
  attn: string;            // è¯çµ¡äºº
  tel: string;             // é›»è©±
  mobile: string;          // è¡Œå‹•é›»è©±
  fax: string;             // å‚³çœŸ
  email: string;           // Email
  
  // å·¥ç¨‹è³‡è¨Š
  projectCode: string;     // å·¥ç¨‹ç·¨è™Ÿ
  projectName: string;     // å·¥ç¨‹åç¨±
  projectAddress: string;  // å·¥ç¨‹åœ°å€
  
  // å ±åƒ¹å–®è³‡è¨Š
  quotationDate: string;   // å ±åƒ¹æ—¥æœŸï¼ˆä¾‹ï¼š2026/2/3ï¼‰
  pageNumber: string;      // é ç¢¼ï¼ˆä¾‹ï¼š1/23ï¼‰
}
```

### 1.2 å ±åƒ¹é …ç›®æ˜ç´°è¡¨ï¼ˆItems Tableï¼‰

**æ¬„ä½çµæ§‹ï¼š**
| æ¬„ä½ | èªªæ˜ | ç¯„ä¾‹ |
|------|------|------|
| ç·¨è™Ÿ | é …ç›®åºè™Ÿ | 1, 2, 3... |
| å“å | æ–½å·¥é …ç›®åç¨± | "åœ°åªæ‰“ç£¨è‡³æ°´æ³¥é¢å«ç²‰å¡µæ”¶é›†åŠå»¢æ£„ç‰©åˆæ³•é‹æ£„" |
| å–®ä½ | è¨ˆåƒ¹å–®ä½ | M, M2, M3, ST, PC |
| æ•¸é‡ | æ–½å·¥æ•¸é‡ | 1.0, 30.0, 50.0 |
| å–®åƒ¹ | å–®ä½åƒ¹æ ¼ | 1,500, 500, 75,000 |
| é‡‘é¡ | å°è¨ˆï¼ˆæ•¸é‡Ã—å–®åƒ¹ï¼‰ | 1,500, 45,000, 75,000 |
| å‚™è¨» | ç‰¹æ®Šèªªæ˜ | "å™ªéŸ³å·¥ç¨‹", "RCé ‚æ¿é¢..." |

**è³‡æ–™çµæ§‹è¨­è¨ˆï¼š**
```typescript
interface QuotationItem {
  id: string;
  åºè™Ÿ: number;
  å“å: string;
  å–®ä½: 'M' | 'M2' | 'M3' | 'ST' | 'PC' | 'KG' | 'L' | string;
  æ•¸é‡: number;
  å–®åƒ¹: number;
  é‡‘é¡: number;           // è‡ªå‹•è¨ˆç®—ï¼šæ•¸é‡ Ã— å–®åƒ¹
  å‚™è¨»?: string;
  
  // é€²éšæ¬„ä½ï¼ˆå¯é¸ï¼‰
  åˆ†é¡?: string;          // ä¾‹ï¼šæ‹†é™¤å·¥ç¨‹ã€é˜²æ°´å·¥ç¨‹ã€å¡«ç¸«å·¥ç¨‹
  ææ–™ç·¨è™Ÿ?: string;      // ä¾‹ï¼šMC-INJECT 2111 FLEX
  æ˜¯å¦å«ç¨…?: boolean;
  æ˜¯å¦å™ªéŸ³å·¥ç¨‹?: boolean;
}
```

### 1.3 å¸¸è¦‹è¨ˆåƒ¹å–®ä½

å¾æ‚¨çš„å ±åƒ¹å–®ä¸­ç™¼ç¾çš„å–®ä½ï¼š
- **M** - ç±³ï¼ˆç·šæ€§é•·åº¦ï¼‰
- **M2** - å¹³æ–¹ç±³ï¼ˆé¢ç©ï¼‰
- **M3** - ç«‹æ–¹ç±³ï¼ˆé«”ç©ï¼‰
- **ST** - å¼ã€çµ„ã€å¥—ï¼ˆæ•´é«”æœå‹™ï¼‰
- **PC** - å€‹ã€ä»¶ï¼ˆæ•¸é‡ï¼‰

### 1.4 å ±åƒ¹å–®é å°¾è³‡è¨Šï¼ˆFooterï¼‰

**è² è²¬äººè³‡è¨Šï¼š**
```typescript
interface ProjectResponsibles {
  å·¥åœ°è² è²¬äºº: { å§“å: string; æ‰‹æ©Ÿ: string };
  å°ˆæ¡ˆè² è²¬äºº: { å§“å: string; æ‰‹æ©Ÿ: string };
  ç¾å ´è² è²¬äºº: { å§“å: string; æ‰‹æ©Ÿ: string };
}

// ç¯„ä¾‹
{
  å·¥åœ°è² è²¬äºº: { å§“å: "é™³ä¿¡å¯¬", æ‰‹æ©Ÿ: "0988-272090" },
  å°ˆæ¡ˆè² è²¬äºº: { å§“å: "é™³æ–‡å‡±", æ‰‹æ©Ÿ: "0910-929597" },
  ç¾å ´è² è²¬äºº: { å§“å: "è¶™æ›‰è¬™", æ‰‹æ©Ÿ: "0965-307806" }
}
```

**å‚™è¨»èˆ‡æ¢æ¬¾ï¼š**
```typescript
interface QuotationTerms {
  å·¥æœŸèªªæ˜: string;           // "é è¨ˆ25å€‹å·¥ä½œå¤©"
  å®‰å…¨è¦å®š: string[];         // ["å·¥æ¥­ç¹©ç´¢æŠ€è¡“å“¡æ–½å·¥ç¬¦åˆ..."]
  ä»˜æ¬¾æ–¹å¼: string;           // "ç°½ç´„å¾Œé ä»˜é ­æœŸå·¥ç¨‹æ¬¾"
  æ”¶æ¬¾å¸³è™Ÿ: BankAccount;
  å ±åƒ¹æœ‰æ•ˆæœŸé™: string;       // "30å¤©"
  ä¿å›ºå¹´é™: number;           // Xå¹´
  å…¶ä»–å‚™è¨»: string[];
}

interface BankAccount {
  éŠ€è¡Œåç¨±: string;           // "ç‰å±±éŠ€è¡Œ(808) å£«æ—åˆ†è¡Œ"
  æˆ¶å: string;              // "å°ç£ç”Ÿæ´»å“è³ªç™¼å±•è‚¡ä»½æœ‰é™å…¬å¸"
  å¸³è™Ÿ: string;              // "0657-940-151307"
}
```

### 1.5 ç¸½è¨ˆè¨ˆç®—å€

```typescript
interface QuotationSummary {
  é …ç›®å°è¨ˆ: number;          // æ‰€æœ‰é …ç›®é‡‘é¡ç¸½å’Œ
  å·¥å®‰ç®¡ç†è²»: number;        // 10%
  æœªç¨…é‡‘é¡: number;          // å°è¨ˆ + ç®¡ç†è²»
  ç‡Ÿæ¥­ç¨…: number;            // 5%ç¨…é‡‘
  å·¥ç¨‹é‡‘é¡ç¸½è¨ˆ: number;      // æœªç¨… + ç¨…é‡‘
  
  // ç‰¹æ®ŠæŠ˜æ‰£
  æœƒå‹˜è²»æŠ˜æŠµ?: number;       // ä¾‹ï¼š-1,000
  å‚™è¨»èªªæ˜?: string;
}
```

---

## ğŸ¯ äºŒã€å ±åƒ¹å–®çš„ç‰¹æ®ŠåŠŸèƒ½éœ€æ±‚

### 2.1 æ–¹æ¡ˆæ¯”è¼ƒåŠŸèƒ½

æ‚¨çš„å ±åƒ¹å–®æœ‰**å¤šæ–¹æ¡ˆæ¯”è¼ƒ**ï¼š
```
æ–¹æ¡ˆä¸€ã€é ‚æ¨“åœ°åªåŠå¥³å…’ç‰†å¤–ç‰†é˜²æ°´å·¥ç¨‹
æ–¹æ¡ˆäºŒã€é ‚æ¨“åœ°åªè‡³ä¸ƒæ¨“å¤–ç‰†é˜²æ°´å·¥ç¨‹
```

**è¨­è¨ˆå»ºè­°ï¼š**
```typescript
interface Quotation {
  // ... åŸºæœ¬æ¬„ä½
  æ–¹æ¡ˆåˆ—è¡¨: QuotationOption[];
}

interface QuotationOption {
  æ–¹æ¡ˆåç¨±: string;          // "æ–¹æ¡ˆä¸€"
  æ–¹æ¡ˆæè¿°: string;          // "é ‚æ¨“åœ°åªåŠå¥³å…’ç‰†..."
  é …ç›®æ˜ç´°: QuotationItem[];
  ç¸½é‡‘é¡: number;
  ä¿å›ºæ¢æ¬¾?: string;         // "åå¹´ä¿å›ºåˆç´„..."
}
```

### 2.2 å·¥ç¨‹åˆ†é¡æ¨™ç±¤

å¾å ±åƒ¹å–®ä¸­ç™¼ç¾çš„åˆ†é¡ï¼š
- æ‹†é™¤å·¥ç¨‹ï¼ˆå£¹ï¼‰
- é˜²æ°´å·¥ç¨‹
- å¡«ç¸«å·¥ç¨‹
- å™ªéŸ³å·¥ç¨‹ï¼ˆç‰¹æ®Šæ¨™è¨»ï¼‰

**è¨­è¨ˆå»ºè­°ï¼š**
```typescript
interface ItemCategory {
  ä»£ç¢¼: string;              // "å£¹", "è²³", "åƒ"
  åç¨±: string;              // "æ‹†é™¤å·¥ç¨‹"
  é …ç›®: QuotationItem[];
}
```

### 2.3 ææ–™/å·¥æ³•è©³ç´°èªªæ˜

è¨±å¤šé …ç›®åŒ…å«è©³ç´°çš„ææ–™ç·¨è™Ÿå’Œå·¥æ³•ï¼š
```
"é«˜å£“çŒæ³¨å¾·åœ‹æ˜æ°å½ˆæ€§ç™¼æ³¡æ¨¹è„‚ MC-INJECT 2111 FLEX"
"å¡—ä½ˆç‘å£«è¥¿å¡å¿«é€Ÿç¡¬åŒ–å‹å–®çµ„ä»½èšèƒºè„‚ 3 KG/M2 SikalasticÂ® 632 R"
```

**è¨­è¨ˆå»ºè­°ï¼š**
- å»ºç«‹**ææ–™è³‡æ–™åº«**
- å»ºç«‹**å¸¸ç”¨å·¥æ³•æ¨¡æ¿**
- æ”¯æ´**æ™ºèƒ½æœå°‹èˆ‡è‡ªå‹•å®Œæˆ**

### 2.4 æª¢æ¸¬æœå‹™å ±åƒ¹

æœ€å¾Œä¸€é æ˜¯ç¨ç«‹çš„æª¢æ¸¬æœå‹™å ±åƒ¹å–®ï¼š
```
1. ç§‘æŠ€å„€å™¨ä¸€èˆ¬æœƒå‹˜ - ST 1 - 3,500
2. ç§‘æŠ€å„€å™¨åŠ ç­æœƒå‹˜ - ST 1 - 7,500
3. æ–½å·¥ä½ç½®ç°¡åœ–åŠé˜²æ°´æ–½ä½œç´°éƒ¨å¤§æ¨£åœ– - ST 1 - 25,000
...
```

**è¨­è¨ˆå»ºè­°ï¼š**
- æ”¯æ´**å‹¾é¸å¼å ±åƒ¹å–®**
- é ä»˜æ¬¾æé†’åŠŸèƒ½
- æª¢æ¸¬é …ç›®æ¨¡æ¿åŒ–

---

## ğŸ’» ä¸‰ã€ç³»çµ±åŠŸèƒ½è¨­è¨ˆå»ºè­°

### 3.1 æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

#### âœ… æ¨¡çµ„ 1ï¼šå ±åƒ¹å–®å»ºç«‹èˆ‡ç·¨è¼¯
```
åŠŸèƒ½ï¼š
- æ–°å¢å ±åƒ¹å–®
- é¸æ“‡å®¢æˆ¶/å·¥ç¨‹
- å¤šæ–¹æ¡ˆå ±åƒ¹
- é …ç›®åˆ†é¡ç®¡ç†
- è‡ªå‹•è¨ˆç®—é‡‘é¡
- å³æ™‚é è¦½
```

#### âœ… æ¨¡çµ„ 2ï¼šé …ç›®ç¯„æœ¬åº«
```
åŠŸèƒ½ï¼š
- å¸¸ç”¨é …ç›®æ”¶è—
- ææ–™è³‡æ–™åº«
- å·¥æ³•æ¨¡æ¿
- å¿«é€Ÿæœå°‹
- æ‰¹æ¬¡åŒ¯å…¥
```

#### âœ… æ¨¡çµ„ 3ï¼šPDF å ±åƒ¹å–®ç”¢ç”Ÿ
```
åŠŸèƒ½ï¼š
- å¥—ç”¨å…¬å¸æ¨£å¼
- è‡ªå‹•åˆ†é 
- Logo/ç°½ç« 
- æµ®æ°´å°
- æ‰¹æ¬¡åŒ¯å‡º
```

#### âœ… æ¨¡çµ„ 4ï¼šå ±åƒ¹è¿½è¹¤ç®¡ç†
```
åŠŸèƒ½ï¼š
- ç‹€æ…‹ç®¡ç†ï¼ˆè‰ç¨¿/å·²é€å‡º/å·²æ ¸å‡†/å·²æˆäº¤ï¼‰
- æœ‰æ•ˆæœŸé™æé†’
- æˆäº¤è½‰å°ˆæ¡ˆ
- æ­·å²å ±åƒ¹æŸ¥è©¢
```

#### âœ… æ¨¡çµ„ 5ï¼šçµ±è¨ˆåˆ†æ
```
åŠŸèƒ½ï¼š
- å ±åƒ¹é‡‘é¡çµ±è¨ˆ
- æˆäº¤ç‡åˆ†æ
- å¸¸ç”¨é …ç›®æ’è¡Œ
- å®¢æˆ¶å ±åƒ¹æ­·å²
```

### 3.2 è³‡æ–™çµæ§‹å®Œæ•´å®šç¾©

```typescript
// types.ts

export interface Quotation {
  id: string;
  quotationNumber: string;       // Q2026-001
  version: number;                // ç‰ˆæœ¬è™Ÿï¼ˆä¿®æ”¹æ™‚éå¢ï¼‰
  
  // å®¢æˆ¶èˆ‡å·¥ç¨‹è³‡è¨Š
  customerId: string;
  projectId?: string;
  
  // å ±åƒ¹å–®æŠ¬é ­
  header: QuotationHeader;
  
  // å ±åƒ¹æ–¹æ¡ˆï¼ˆæ”¯æ´å¤šæ–¹æ¡ˆï¼‰
  options: QuotationOption[];
  selectedOptionIndex: number;    // é è¨­é¸æ“‡çš„æ–¹æ¡ˆ
  
  // è² è²¬äººè³‡è¨Š
  responsibles: ProjectResponsibles;
  
  // æ¢æ¬¾èˆ‡å‚™è¨»
  terms: QuotationTerms;
  
  // ç‹€æ…‹ç®¡ç†
  status: 'draft' | 'sent' | 'approved' | 'rejected' | 'expired' | 'converted';
  validUntil: string;             // æœ‰æ•ˆæœŸé™
  
  // å¯©è¨ˆè³‡è¨Š
  createdBy: string;
  createdAt: string;
  updatedAt: string;
  approvedAt?: string;
  convertedProjectId?: string;    // æˆäº¤å¾Œè½‰æˆçš„å°ˆæ¡ˆID
  
  // é™„ä»¶
  attachments?: {
    æ–½å·¥ä½ç½®ç°¡åœ–?: string;
    å¤§æ¨£åœ–?: string;
  };
}

export interface QuotationHeader {
  // å®¢æˆ¶è³‡è¨Š
  to: string;
  attn: string;
  tel: string;
  mobile: string;
  fax?: string;
  email?: string;
  
  // å·¥ç¨‹è³‡è¨Š
  projectCode?: string;
  projectName: string;
  projectAddress: string;
  
  // å ±åƒ¹æ—¥æœŸ
  quotationDate: string;
}

export interface QuotationOption {
  id: string;
  name: string;                   // "æ–¹æ¡ˆä¸€"
  description: string;            // "é ‚æ¨“åœ°åªåŠå¥³å…’ç‰†å¤–ç‰†é˜²æ°´å·¥ç¨‹"
  
  // é …ç›®æ˜ç´°ï¼ˆæ”¯æ´åˆ†é¡ï¼‰
  categories: ItemCategory[];
  
  // é‡‘é¡è¨ˆç®—
  summary: QuotationSummary;
  
  // ä¿å›ºèªªæ˜
  warranty?: string;
}

export interface ItemCategory {
  id: string;
  code: string;                   // "å£¹", "è²³", "åƒ"
  name: string;                   // "æ‹†é™¤å·¥ç¨‹"
  items: QuotationItem[];
}

export interface QuotationItem {
  id: string;
  åºè™Ÿ: number;
  å“å: string;
  å–®ä½: string;
  æ•¸é‡: number;
  å–®åƒ¹: number;
  é‡‘é¡: number;                   // è‡ªå‹•è¨ˆç®—
  å‚™è¨»?: string;
  
  // é¡å¤–è³‡è¨Š
  ææ–™ç·¨è™Ÿ?: string;
  æ˜¯å¦å™ªéŸ³å·¥ç¨‹?: boolean;
  
  // ç¯„æœ¬å¼•ç”¨ï¼ˆæ–¹ä¾¿ä¸‹æ¬¡ä½¿ç”¨ï¼‰
  templateId?: string;
}

export interface QuotationSummary {
  é …ç›®å°è¨ˆ: number;
  å·¥å®‰ç®¡ç†è²»: number;
  å·¥å®‰ç®¡ç†è²»ç‡: number;            // é è¨­ 10%
  æœªç¨…é‡‘é¡: number;
  ç‡Ÿæ¥­ç¨…: number;
  ç¨…ç‡: number;                    // é è¨­ 5%
  æŠ˜æ‰£é …ç›®?: DiscountItem[];
  å·¥ç¨‹é‡‘é¡ç¸½è¨ˆ: number;
}

export interface DiscountItem {
  åç¨±: string;                    // "æœƒå‹˜è²»æŠ˜æŠµ"
  é‡‘é¡: number;                    // -1000
  èªªæ˜?: string;
}

export interface ProjectResponsibles {
  å·¥åœ°è² è²¬äºº?: { å§“å: string; æ‰‹æ©Ÿ: string };
  å°ˆæ¡ˆè² è²¬äºº?: { å§“å: string; æ‰‹æ©Ÿ: string };
  ç¾å ´è² è²¬äºº?: { å§“å: string; æ‰‹æ©Ÿ: string };
}

export interface QuotationTerms {
  å·¥æœŸèªªæ˜?: string;
  å®‰å…¨è¦å®š?: string[];
  ä»˜æ¬¾æ–¹å¼?: string;
  æ”¶æ¬¾å¸³è™Ÿ?: BankAccount;
  å ±åƒ¹æœ‰æ•ˆæœŸé™?: string;
  ä¿å›ºå¹´é™?: number;
  å…¶ä»–å‚™è¨»?: string[];
}

export interface BankAccount {
  éŠ€è¡Œåç¨±: string;
  æˆ¶å: string;
  å¸³è™Ÿ: string;
}

// é …ç›®ç¯„æœ¬ï¼ˆå¯é‡è¤‡ä½¿ç”¨ï¼‰
export interface QuotationTemplate {
  id: string;
  name: string;
  category: string;
  items: Omit<QuotationItem, 'id' | 'åºè™Ÿ' | 'é‡‘é¡'>[];
  ä½¿ç”¨æ¬¡æ•¸: number;
  æœ€å¾Œä½¿ç”¨æ™‚é–“?: string;
}
```

---

## ğŸ¨ å››ã€UI/UX è¨­è¨ˆå»ºè­°

### 4.1 å ±åƒ¹å–®ç·¨è¼¯ä»‹é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“„ æ–°å¢å ±åƒ¹å–®                          [å„²å­˜] [é è¦½]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºæœ¬è³‡è¨Š                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ å®¢æˆ¶é¸æ“‡  â”‚  â”‚ å·¥ç¨‹é¸æ“‡  â”‚  å ±åƒ¹ç·¨è™Ÿ: Q2026-001â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                 â”‚
â”‚  æ–¹æ¡ˆä¸€ï¼šé ‚æ¨“é˜²æ°´å·¥ç¨‹           [+ æ–°å¢æ–¹æ¡ˆ]      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ å£¹ã€æ‹†é™¤å·¥ç¨‹              [+ æ–°å¢åˆ†é¡]  â”‚      â”‚
â”‚  â”‚ â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚      â”‚
â”‚  â”‚ â”‚ # â”‚å“å          â”‚å–®ä½â”‚æ•¸é‡â”‚å–®åƒ¹  â”‚é‡‘é¡  â”‚â”‚      â”‚
â”‚  â”‚ â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤â”‚      â”‚
â”‚  â”‚ â”‚ 1 â”‚åœ°åªæ‰“ç£¨...   â”‚ M2 â”‚1.0â”‚1,500â”‚1,500â”‚â”‚      â”‚
â”‚  â”‚ â”‚ 2 â”‚RCè£‚ç¸«å¡«çŒ... â”‚ M  â”‚1.0â”‚  500â”‚  500â”‚â”‚      â”‚
â”‚  â”‚ â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜â”‚      â”‚
â”‚  â”‚                          [+ æ–°å¢é …ç›®]    â”‚      â”‚
â”‚  â”‚                                         â”‚      â”‚
â”‚  â”‚ å°è¨ˆ: 2,000                              â”‚      â”‚
â”‚  â”‚ å·¥å®‰ç®¡ç†è²» (10%): 200                    â”‚      â”‚
â”‚  â”‚ ç‡Ÿæ¥­ç¨… (5%): 110                         â”‚      â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚      â”‚
â”‚  â”‚ ç¸½è¨ˆ: 2,310                              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                 â”‚
â”‚  è² è²¬äººè³‡è¨Š    æ¢æ¬¾è¨­å®š    é™„ä»¶                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å¿«é€Ÿå»ºç«‹æµç¨‹

```
æ­¥é©Ÿ 1: é¸æ“‡å®¢æˆ¶/å·¥ç¨‹
  â†“
æ­¥é©Ÿ 2: é¸æ“‡å ±åƒ¹æ¨¡æ¿ï¼ˆå¯é¸ï¼‰
  â†“
æ­¥é©Ÿ 3: ç·¨è¼¯é …ç›®æ˜ç´°
  â†“
æ­¥é©Ÿ 4: è¨­å®šè² è²¬äººèˆ‡æ¢æ¬¾
  â†“
æ­¥é©Ÿ 5: é è¦½ PDF
  â†“
æ­¥é©Ÿ 6: åŒ¯å‡º/ç™¼é€
```

---

## ğŸš€ äº”ã€é–‹ç™¼å„ªå…ˆé †åºå»ºè­°

### Phase 1: MVPï¼ˆæœ€å°å¯è¡Œç”¢å“ï¼‰
- [ ] åŸºæœ¬å ±åƒ¹å–®CRUD
- [ ] å–®ä¸€æ–¹æ¡ˆå ±åƒ¹
- [ ] é …ç›®è¡¨æ ¼ç·¨è¼¯
- [ ] è‡ªå‹•è¨ˆç®—é‡‘é¡
- [ ] ç°¡æ˜“PDFåŒ¯å‡º

### Phase 2: é€²éšåŠŸèƒ½
- [ ] å¤šæ–¹æ¡ˆæ¯”è¼ƒ
- [ ] é …ç›®ç¯„æœ¬åº«
- [ ] å®¢æˆ¶/å·¥ç¨‹é—œè¯
- [ ] ç‹€æ…‹ç®¡ç†
- [ ] ç²¾ç¾PDFæ¨£å¼

### Phase 3: æ™ºèƒ½åŒ–
- [ ] æ­·å²å ±åƒ¹åƒè€ƒ
- [ ] å¸¸ç”¨é …ç›®æ¨è–¦
- [ ] æˆäº¤ç‡åˆ†æ
- [ ] å ±åƒ¹å–®ç‰ˆæœ¬æ§åˆ¶
- [ ] æ‰¹æ¬¡æ“ä½œ

---

## ğŸ“¦ å…­ã€å¯é‡ç”¨çš„é …ç›®ç¯„æœ¬ç¯„ä¾‹

æ ¹æ“šæ‚¨çš„å ±åƒ¹å–®ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨é …ç›®ç¯„ä¾‹ï¼š

```json
{
  "templates": [
    {
      "id": "TPL001",
      "name": "åœ°åªæ‰“ç£¨æ¨™æº–æ–½å·¥",
      "category": "æ‹†é™¤å·¥ç¨‹",
      "items": [
        {
          "å“å": "åœ°åªæ‰“ç£¨è‡³æ°´æ³¥é¢å«ç²‰å¡µæ”¶é›†åŠå»¢æ£„ç‰©åˆæ³•é‹æ£„",
          "å–®ä½": "M2",
          "å–®åƒ¹": 1500,
          "å‚™è¨»": "å™ªéŸ³å·¥ç¨‹"
        }
      ]
    },
    {
      "id": "TPL002",
      "name": "é˜²æ°´æ¨¹è„‚çŒæ³¨çµ„åˆ",
      "category": "é˜²æ°´å·¥ç¨‹",
      "items": [
        {
          "å“å": "é«˜å£“çŒæ³¨å¾·åœ‹æ˜æ°å½ˆæ€§ç™¼æ³¡æ¨¹è„‚ MC-INJECT 2111 FLEX",
          "å–®ä½": "M",
          "å–®åƒ¹": 2500
        },
        {
          "å“å": "é«˜å£“çŒæ³¨å¾·åœ‹æ˜æ°ç™¼æ³¡æ¨¹è„‚&å½ˆæ€§å¯†å°æ¨¹è„‚ MC INJECT 2111 & MC INJECT 2300 FLOW",
          "å–®ä½": "M2",
          "å–®åƒ¹": 3000
        }
      ]
    }
  ]
}
```

---

## ğŸ“ ä¸ƒã€å¯¦ä½œå»ºè­°

### 7.1 ä½¿ç”¨ jsPDF ç”¢ç”Ÿ PDF

```typescript
import jsPDF from 'jspdf';
import 'jspdf-autotable';

export const generateQuotationPDF = (quotation: Quotation) => {
  const doc = new jsPDF();
  
  // å…¬å¸ Logo
  doc.addImage(logoBase64, 'PNG', 10, 10, 30, 30);
  
  // å…¬å¸è³‡è¨Š
  doc.setFontSize(10);
  doc.text('å°ç£ç”Ÿæ´»å“è³ªç™¼å±•è‚¡ä»½æœ‰é™å…¬å¸', 105, 20, { align: 'center' });
  doc.text('å°åŒ—å¸‚å£«æ—å€ä¸­å±±åŒ—è·¯äº”æ®µ500è™Ÿ7æ¨“', 105, 25, { align: 'center' });
  
  // å ±åƒ¹å–®æ¨™é¡Œ
  doc.setFontSize(16);
  doc.text('å ±åƒ¹å–®', 105, 40, { align: 'center' });
  
  // å®¢æˆ¶è³‡è¨Šè¡¨æ ¼
  // ...
  
  // é …ç›®æ˜ç´°è¡¨
  doc.autoTable({
    head: [['ç·¨è™Ÿ', 'å“å', 'å–®ä½', 'æ•¸é‡', 'å–®åƒ¹', 'é‡‘é¡', 'å‚™è¨»']],
    body: quotation.options[0].categories
      .flatMap(cat => cat.items)
      .map(item => [
        item.åºè™Ÿ,
        item.å“å,
        item.å–®ä½,
        item.æ•¸é‡,
        item.å–®åƒ¹.toLocaleString(),
        item.é‡‘é¡.toLocaleString(),
        item.å‚™è¨» || ''
      ]),
    startY: 80
  });
  
  // ç¸½è¨ˆ
  // ...
  
  doc.save(`å ±åƒ¹å–®_${quotation.quotationNumber}.pdf`);
};
```

### 7.2 Excel åŒ¯å…¥åŠŸèƒ½

è€ƒæ…®åˆ°æ‚¨æœ‰ç¾æˆçš„ Excel å ±åƒ¹å–®ï¼Œå»ºè­°æ”¯æ´ï¼š
```typescript
export const importQuotationFromExcel = async (file: File) => {
  // ä½¿ç”¨ xlsx æˆ– exceljs è§£æ
  // è‡ªå‹•è­˜åˆ¥æ¬„ä½
  // è½‰æ›ç‚º Quotation æ ¼å¼
};
```

---

## âœ… å…«ã€ç¸½çµ

æ‚¨çš„å ±åƒ¹å–®ç³»çµ±éœ€è¦ï¼š

1. **å°ˆæ¥­çš„å·¥ç¨‹å ±åƒ¹ç®¡ç†**
   - æ”¯æ´å¤šæ–¹æ¡ˆæ¯”è¼ƒ
   - è©³ç´°çš„ææ–™å·¥æ³•è¨˜éŒ„
   - ç²¾ç¢ºçš„é‡‘é¡è¨ˆç®—

2. **é«˜åº¦çš„é‡ç”¨æ€§**
   - é …ç›®ç¯„æœ¬åº«
   - å¸¸ç”¨å·¥æ³•æ¨¡æ¿
   - æ­·å²å ±åƒ¹åƒè€ƒ

3. **å®Œæ•´çš„æ¥­å‹™æµç¨‹**
   - è‰ç¨¿ â†’ é€å‡º â†’ æ ¸å‡† â†’ æˆäº¤
   - è‡ªå‹•æé†’ï¼ˆæœ‰æ•ˆæœŸé™ï¼‰
   - å ±åƒ¹å–®ç‰ˆæœ¬ç®¡ç†

4. **ç¾è§€çš„ PDF è¼¸å‡º**
   - ç¬¦åˆå…¬å¸ CI
   - å°ˆæ¥­æ’ç‰ˆ
   - æ”¯æ´å¤šé å ±åƒ¹

æˆ‘å·²ç¶“ç‚ºæ‚¨æº–å‚™å¥½å®Œæ•´çš„è³‡æ–™çµæ§‹å’Œå¯¦ä½œå»ºè­°ã€‚æ¥ä¸‹ä¾†æˆ‘å€‘å¯ä»¥ï¼š
1. é–‹å§‹å¯¦ä½œåŸºç¤çš„å ±åƒ¹å–®ç·¨è¼¯åŠŸèƒ½
2. å»ºç«‹é …ç›®ç¯„æœ¬åº«
3. é–‹ç™¼ PDF ç”¢ç”ŸåŠŸèƒ½

è«‹å‘Šè¨´æˆ‘æ‚¨æƒ³å¾å“ªå€‹éƒ¨åˆ†é–‹å§‹ï¼ ğŸš€
